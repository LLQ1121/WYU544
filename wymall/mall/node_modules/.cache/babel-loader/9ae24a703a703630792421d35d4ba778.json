{"remainingRequest":"D:\\Github\\WYU544\\网易严选商城\\mall\\node_modules\\babel-loader\\lib\\index.js!D:\\Github\\WYU544\\网易严选商城\\mall\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\Github\\WYU544\\网易严选商城\\mall\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Github\\WYU544\\网易严选商城\\mall\\src\\views\\buycart.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Github\\WYU544\\网易严选商城\\mall\\src\\views\\buycart.vue","mtime":1613548217551},{"path":"D:\\Github\\WYU544\\网易严选商城\\mall\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Github\\WYU544\\网易严选商城\\mall\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\Github\\WYU544\\网易严选商城\\mall\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Github\\WYU544\\网易严选商城\\mall\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuY29uc3RydWN0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvcnMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZSI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJEOlxcR2l0aHViXFxXWVU1NDRcXFx1N0Y1MVx1NjYxM1x1NEUyNVx1OTAwOVx1NTU0Nlx1NTdDRVxcbWFsbFxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiRDpcXEdpdGh1YlxcV1lVNTQ0XFxcdTdGNTFcdTY2MTNcdTRFMjVcdTkwMDlcdTU1NDZcdTU3Q0VcXG1hbGxcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5IjsKCmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBpZiAoZW51bWVyYWJsZU9ubHkpIHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KTsga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9CgpmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgaWYgKGkgJSAyKSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSksIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsgfSBlbHNlIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH0KCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAidnVleCI7CmltcG9ydCBhcGkgZnJvbSAiLi4vYXNzZXRzL2NvbmZpZy9hcGkuanMiOwppbXBvcnQgdGFiQnV0dG9uIGZyb20gIi4uL2NvbXBvbmVudHMvdGFiQnV0dG9uLnZ1ZSI7CnZhciBtYXBTdGF0ZU9iaiA9IG1hcFN0YXRlKFsiY2FydFRvdGFsIiwgImNhcnRMaXN0Il0pOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGNoZWNrZWQ6IHRydWUKICAgIH07CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZCh7fSwgbWFwU3RhdGVPYmosIHsKICAgIGNoZWNrZWRBbGw6IHsKICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsKSB7fSwKICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgICAgaWYgKHRoaXMuY2FydFRvdGFsLmdvb2RzQ291bnQgPT0gdGhpcy5jYXJ0VG90YWwuY2hlY2tlZEdvb2RzQ291bnQpIHsKICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfSksCiAgY29tcG9uZW50czogewogICAgdGFiQnV0dG9uOiB0YWJCdXR0b24KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiQWpheENhcnQiKTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7Ly8gY29uc29sZS5sb2codGhpcy5jYXJ0TGlzdCk7CiAgICAvLyBjb25zb2xlLmxvZyh0aGlzLmNhcnRUb3RhbCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBvblN1Ym1pdDogZnVuY3Rpb24gb25TdWJtaXQoKSB7fSwKICAgIGNoZWNrRXZlbnQ6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9jaGVja0V2ZW50ID0gX2FzeW5jVG9HZW5lcmF0b3IoCiAgICAgIC8qI19fUFVSRV9fKi8KICAgICAgcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZShldmVudCwgaXRlbSkgewogICAgICAgIHZhciByZXMsIGRhdGE7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MucG9zdChhcGkuQ2FydENoZWNrZWQsIHsKICAgICAgICAgICAgICAgICAgaXNDaGVja2VkOiBOdW1iZXIoZXZlbnQpLAogICAgICAgICAgICAgICAgICBwcm9kdWN0SWRzOiBpdGVtLnByb2R1Y3RfaWQKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgZGF0YSA9IHJlcy5kYXRhLmRhdGE7CiAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3NldENhcnRMaXN0JywgZGF0YS5jYXJ0TGlzdCksIHRoaXMuJHN0b3JlLmNvbW1pdCgnc2V0Q2FydFRvdGFsJywgZGF0YS5jYXJ0VG90YWwpOwogICAgICAgICAgICAgICAgdGhpcy4kZm9yY2VVcGRhdGUoKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGNoZWNrRXZlbnQoX3gsIF94MikgewogICAgICAgIHJldHVybiBfY2hlY2tFdmVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gY2hlY2tFdmVudDsKICAgIH0oKQogIH0KfTs="},{"version":3,"sources":["buycart.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwCA,OAAA,KAAA,MAAA,OAAA;AACA,SAAA,QAAA,QAAA,MAAA;AACA,OAAA,GAAA,MAAA,yBAAA;AACA,OAAA,SAAA,MAAA,6BAAA;AACA,IAAA,WAAA,GAAA,QAAA,CAAA,CAAA,WAAA,EAAA,UAAA,CAAA,CAAA;AACA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,OAAA,EAAA;AADA,KAAA;AAGA,GALA;AAMA,EAAA,QAAA,oBACA,WADA;AAEA,IAAA,UAAA,EAAA;AACA,MAAA,GADA,eACA,GADA,EACA,CAEA,CAHA;AAIA,MAAA,GAJA,iBAIA;AACA,YAAA,KAAA,SAAA,CAAA,UAAA,IAAA,KAAA,SAAA,CAAA,iBAAA,EAAA;AACA,iBAAA,IAAA;AACA,SAFA,MAEA;AACA,iBAAA,KAAA;AACA;AACA;AAVA;AAFA,IANA;AAqBA,EAAA,UAAA,EAAA;AACA,IAAA,SAAA,EAAA;AADA,GArBA;AAwBA,EAAA,OAxBA,qBAwBA;AACA,SAAA,MAAA,CAAA,QAAA,CAAA,UAAA;AACA,GA1BA;AA2BA,EAAA,OA3BA,qBA2BA,CACA;AACA;AACA,GA9BA;AA+BA,EAAA,OAAA,EAAA;AACA,IAAA,QAAA,EAAA,oBAAA,CACA,CAFA;AAGA,IAAA,UAAA;AAAA;AAAA;AAAA,8BAAA,iBAAA,KAAA,EAAA,IAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,KAAA,CAAA,IAAA,CAAA,GAAA,CAAA,WAAA,EAAA;AAAA,kBAAA,SAAA,EAAA,MAAA,CAAA,KAAA,CAAA;AAAA,kBAAA,UAAA,EAAA,IAAA,CAAA;AAAA,iBAAA,CADA;;AAAA;AACA,gBAAA,GADA;AAEA,gBAAA,IAFA,GAEA,GAAA,CAAA,IAAA,CAAA,IAFA;AAGA,qBAAA,MAAA,CAAA,MAAA,CAAA,aAAA,EAAA,IAAA,CAAA,QAAA,GACA,KAAA,MAAA,CAAA,MAAA,CAAA,cAAA,EAAA,IAAA,CAAA,SAAA,CADA;AAEA,qBAAA,YAAA;;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAHA;AA/BA,CAAA","sourcesContent":["<template>\r\n  <div id=\"buycart\">\r\n    <div class=\"info\">\r\n      <span>30天无忧退货</span>\r\n      <span>48小时极速退款</span>\r\n      <span>满88免邮费</span>\r\n    </div>\r\n    <!-- 商品列表 -->\r\n    <div class=\"list\">\r\n      <div class=\"carItem\" v-for=\"(item, index) in cartList\" :key=\"index\">\r\n        <van-checkbox\r\n          @change=\"checkEvent($event, item)\"\r\n          v-model=\"item.checked\"\r\n        ></van-checkbox>\r\n        <van-image width=\"70\" height=\"70\" :src=\"item.list_pic_url\" />\r\n        <div class=\"proBrief\">\r\n          <div class=\"title\">\r\n            <span>{{ item.goods_name }}</span>\r\n            <span class=\"num\">×{{ item.number }}</span>\r\n          </div>\r\n          <p class=\"brief\">{{ item.goods_specifition_name_value }}</p>\r\n          <p class=\"price\">￥ {{ item.retail_price }}</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- 商品全选 -->\r\n    <van-submit-bar \r\n      :price=\"cartTotal.checkedGoodsAmount * 100\"\r\n      button-text=\"提交订单\"\r\n      @submit=\"onSubmit\"\r\n    >\r\n        <van-checkbox v-model=\"checkedAll\">全选</van-checkbox>\r\n    </van-submit-bar>\r\n\r\n    <div style=\"height:50px\"></div>\r\n    <tab-button></tab-button>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\nimport { mapState } from \"vuex\";\r\nimport api from \"../assets/config/api.js\";\r\nimport tabButton from \"../components/tabButton.vue\";\r\nlet mapStateObj = mapState([\"cartTotal\", \"cartList\"]);\r\nexport default {\r\n  data() {\r\n    return {\r\n      checked: true\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapStateObj,\r\n    checkedAll:{\r\n        set(val){\r\n            \r\n        },\r\n        get(){\r\n            if(this.cartTotal.goodsCount==this.cartTotal.checkedGoodsCount){\r\n                return true;\r\n            }else{\r\n                return false\r\n            }\r\n        }\r\n    }\r\n  },\r\n  components:{\r\n      tabButton\r\n  },\r\n  created() {\r\n    this.$store.dispatch(\"AjaxCart\");\r\n  },\r\n  mounted() {\r\n    // console.log(this.cartList);\r\n    // console.log(this.cartTotal);\r\n  },\r\n  methods: {\r\n    onSubmit: function () {\r\n    },\r\n    checkEvent:async function(event,item){\r\n        let res = await axios.post(api.CartChecked,{isChecked: Number(event),productIds: item.product_id})\r\n        let data = res.data.data\r\n        this.$store.commit('setCartList',data.cartList),\r\n        this.$store.commit('setCartTotal',data.cartTotal)\r\n        this.$forceUpdate()\r\n    }, \r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n#buycart {\r\n  .info {\r\n    display: flex;\r\n    justify-content: space-around;\r\n    font-size: 12px;\r\n    color: #999;\r\n    height: 24px;\r\n    line-height: 24px;\r\n    background: #efefee;\r\n    span {\r\n      position: relative;\r\n    }\r\n    span::before {\r\n      content: \"\";\r\n      display: block;\r\n      position: absolute;\r\n      left: -10px;\r\n      top: 8px;\r\n      width: 4px;\r\n      height: 4px;\r\n      border-radius: 2px;\r\n      border: 1px solid red;\r\n    }\r\n  }\r\n  .carItem {\r\n    padding: 0 5px;\r\n    display: flex;\r\n    align-items: center;\r\n    padding: 10px 5px;\r\n    .van-checkbox {\r\n      margin: 0 5px;\r\n    }\r\n    .van-image {\r\n      background: #efefef;\r\n    }\r\n    .proBrief {\r\n      flex: 1;\r\n      display: flex;\r\n      flex-direction: column;\r\n      justify-content: space-around;\r\n      align-items: flex-start;\r\n      .title {\r\n        width: 100%;\r\n        font-size: 14px;\r\n        display: flex;\r\n        justify-content: space-between;\r\n      }\r\n      .brief {\r\n        color: #999;\r\n        font-size: 12px;\r\n      }\r\n    }\r\n  }\r\n  .van-submit-bar{\r\n      bottom:51px;\r\n  }\r\n}\r\n</style>"],"sourceRoot":"src/views"}]}