{"remainingRequest":"C:\\Users\\11210\\Desktop\\projects\\商城\\mall\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\11210\\Desktop\\projects\\商城\\mall\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\11210\\Desktop\\projects\\商城\\mall\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\11210\\Desktop\\projects\\商城\\mall\\src\\views\\buycart.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\11210\\Desktop\\projects\\商城\\mall\\src\\views\\buycart.vue","mtime":1613548217551},{"path":"C:\\Users\\11210\\Desktop\\projects\\商城\\mall\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\11210\\Desktop\\projects\\商城\\mall\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\11210\\Desktop\\projects\\商城\\mall\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\11210\\Desktop\\projects\\商城\\mall\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuY29uc3RydWN0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvcnMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZSI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJDOlxcVXNlcnNcXDExMjEwXFxEZXNrdG9wXFxwcm9qZWN0c1xcXHU1NTQ2XHU1N0NFXFxtYWxsXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICJDOlxcVXNlcnNcXDExMjEwXFxEZXNrdG9wXFxwcm9qZWN0c1xcXHU1NTQ2XHU1N0NFXFxtYWxsXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7CgpmdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfQoKZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7IH0gZWxzZSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9CgovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwppbXBvcnQgeyBtYXBTdGF0ZSB9IGZyb20gInZ1ZXgiOwppbXBvcnQgYXBpIGZyb20gIi4uL2Fzc2V0cy9jb25maWcvYXBpLmpzIjsKaW1wb3J0IHRhYkJ1dHRvbiBmcm9tICIuLi9jb21wb25lbnRzL3RhYkJ1dHRvbi52dWUiOwp2YXIgbWFwU3RhdGVPYmogPSBtYXBTdGF0ZShbImNhcnRUb3RhbCIsICJjYXJ0TGlzdCJdKTsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjaGVja2VkOiB0cnVlCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoe30sIG1hcFN0YXRlT2JqLCB7CiAgICBjaGVja2VkQWxsOiB7CiAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbCkge30sCiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICAgIGlmICh0aGlzLmNhcnRUb3RhbC5nb29kc0NvdW50ID09IHRoaXMuY2FydFRvdGFsLmNoZWNrZWRHb29kc0NvdW50KSB7CiAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0pLAogIGNvbXBvbmVudHM6IHsKICAgIHRhYkJ1dHRvbjogdGFiQnV0dG9uCiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goIkFqYXhDYXJ0Iik7CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgey8vIGNvbnNvbGUubG9nKHRoaXMuY2FydExpc3QpOwogICAgLy8gY29uc29sZS5sb2codGhpcy5jYXJ0VG90YWwpOwogIH0sCiAgbWV0aG9kczogewogICAgb25TdWJtaXQ6IGZ1bmN0aW9uIG9uU3VibWl0KCkge30sCiAgICBjaGVja0V2ZW50OiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfY2hlY2tFdmVudCA9IF9hc3luY1RvR2VuZXJhdG9yKAogICAgICAvKiNfX1BVUkVfXyovCiAgICAgIHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoZXZlbnQsIGl0ZW0pIHsKICAgICAgICB2YXIgcmVzLCBkYXRhOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnBvc3QoYXBpLkNhcnRDaGVja2VkLCB7CiAgICAgICAgICAgICAgICAgIGlzQ2hlY2tlZDogTnVtYmVyKGV2ZW50KSwKICAgICAgICAgICAgICAgICAgcHJvZHVjdElkczogaXRlbS5wcm9kdWN0X2lkCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIGRhdGEgPSByZXMuZGF0YS5kYXRhOwogICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdzZXRDYXJ0TGlzdCcsIGRhdGEuY2FydExpc3QpLCB0aGlzLiRzdG9yZS5jb21taXQoJ3NldENhcnRUb3RhbCcsIGRhdGEuY2FydFRvdGFsKTsKICAgICAgICAgICAgICAgIHRoaXMuJGZvcmNlVXBkYXRlKCk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUsIHRoaXMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBjaGVja0V2ZW50KF94LCBfeDIpIHsKICAgICAgICByZXR1cm4gX2NoZWNrRXZlbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGNoZWNrRXZlbnQ7CiAgICB9KCkKICB9Cn07"},{"version":3,"sources":["buycart.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwCA,OAAA,KAAA,MAAA,OAAA;AACA,SAAA,QAAA,QAAA,MAAA;AACA,OAAA,GAAA,MAAA,yBAAA;AACA,OAAA,SAAA,MAAA,6BAAA;AACA,IAAA,WAAA,GAAA,QAAA,CAAA,CAAA,WAAA,EAAA,UAAA,CAAA,CAAA;AACA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,OAAA,EAAA;AADA,KAAA;AAGA,GALA;AAMA,EAAA,QAAA,oBACA,WADA;AAEA,IAAA,UAAA,EAAA;AACA,MAAA,GADA,eACA,GADA,EACA,CAEA,CAHA;AAIA,MAAA,GAJA,iBAIA;AACA,YAAA,KAAA,SAAA,CAAA,UAAA,IAAA,KAAA,SAAA,CAAA,iBAAA,EAAA;AACA,iBAAA,IAAA;AACA,SAFA,MAEA;AACA,iBAAA,KAAA;AACA;AACA;AAVA;AAFA,IANA;AAqBA,EAAA,UAAA,EAAA;AACA,IAAA,SAAA,EAAA;AADA,GArBA;AAwBA,EAAA,OAxBA,qBAwBA;AACA,SAAA,MAAA,CAAA,QAAA,CAAA,UAAA;AACA,GA1BA;AA2BA,EAAA,OA3BA,qBA2BA,CACA;AACA;AACA,GA9BA;AA+BA,EAAA,OAAA,EAAA;AACA,IAAA,QAAA,EAAA,oBAAA,CACA,CAFA;AAGA,IAAA,UAAA;AAAA;AAAA;AAAA,8BAAA,iBAAA,KAAA,EAAA,IAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,KAAA,CAAA,IAAA,CAAA,GAAA,CAAA,WAAA,EAAA;AAAA,kBAAA,SAAA,EAAA,MAAA,CAAA,KAAA,CAAA;AAAA,kBAAA,UAAA,EAAA,IAAA,CAAA;AAAA,iBAAA,CADA;;AAAA;AACA,gBAAA,GADA;AAEA,gBAAA,IAFA,GAEA,GAAA,CAAA,IAAA,CAAA,IAFA;AAGA,qBAAA,MAAA,CAAA,MAAA,CAAA,aAAA,EAAA,IAAA,CAAA,QAAA,GACA,KAAA,MAAA,CAAA,MAAA,CAAA,cAAA,EAAA,IAAA,CAAA,SAAA,CADA;AAEA,qBAAA,YAAA;;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAHA;AA/BA,CAAA","sourcesContent":["<template>\r\n  <div id=\"buycart\">\r\n    <div class=\"info\">\r\n      <span>30天无忧退货</span>\r\n      <span>48小时极速退款</span>\r\n      <span>满88免邮费</span>\r\n    </div>\r\n    <!-- 商品列表 -->\r\n    <div class=\"list\">\r\n      <div class=\"carItem\" v-for=\"(item, index) in cartList\" :key=\"index\">\r\n        <van-checkbox\r\n          @change=\"checkEvent($event, item)\"\r\n          v-model=\"item.checked\"\r\n        ></van-checkbox>\r\n        <van-image width=\"70\" height=\"70\" :src=\"item.list_pic_url\" />\r\n        <div class=\"proBrief\">\r\n          <div class=\"title\">\r\n            <span>{{ item.goods_name }}</span>\r\n            <span class=\"num\">×{{ item.number }}</span>\r\n          </div>\r\n          <p class=\"brief\">{{ item.goods_specifition_name_value }}</p>\r\n          <p class=\"price\">￥ {{ item.retail_price }}</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- 商品全选 -->\r\n    <van-submit-bar \r\n      :price=\"cartTotal.checkedGoodsAmount * 100\"\r\n      button-text=\"提交订单\"\r\n      @submit=\"onSubmit\"\r\n    >\r\n        <van-checkbox v-model=\"checkedAll\">全选</van-checkbox>\r\n    </van-submit-bar>\r\n\r\n    <div style=\"height:50px\"></div>\r\n    <tab-button></tab-button>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\nimport { mapState } from \"vuex\";\r\nimport api from \"../assets/config/api.js\";\r\nimport tabButton from \"../components/tabButton.vue\";\r\nlet mapStateObj = mapState([\"cartTotal\", \"cartList\"]);\r\nexport default {\r\n  data() {\r\n    return {\r\n      checked: true\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapStateObj,\r\n    checkedAll:{\r\n        set(val){\r\n            \r\n        },\r\n        get(){\r\n            if(this.cartTotal.goodsCount==this.cartTotal.checkedGoodsCount){\r\n                return true;\r\n            }else{\r\n                return false\r\n            }\r\n        }\r\n    }\r\n  },\r\n  components:{\r\n      tabButton\r\n  },\r\n  created() {\r\n    this.$store.dispatch(\"AjaxCart\");\r\n  },\r\n  mounted() {\r\n    // console.log(this.cartList);\r\n    // console.log(this.cartTotal);\r\n  },\r\n  methods: {\r\n    onSubmit: function () {\r\n    },\r\n    checkEvent:async function(event,item){\r\n        let res = await axios.post(api.CartChecked,{isChecked: Number(event),productIds: item.product_id})\r\n        let data = res.data.data\r\n        this.$store.commit('setCartList',data.cartList),\r\n        this.$store.commit('setCartTotal',data.cartTotal)\r\n        this.$forceUpdate()\r\n    }, \r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n#buycart {\r\n  .info {\r\n    display: flex;\r\n    justify-content: space-around;\r\n    font-size: 12px;\r\n    color: #999;\r\n    height: 24px;\r\n    line-height: 24px;\r\n    background: #efefee;\r\n    span {\r\n      position: relative;\r\n    }\r\n    span::before {\r\n      content: \"\";\r\n      display: block;\r\n      position: absolute;\r\n      left: -10px;\r\n      top: 8px;\r\n      width: 4px;\r\n      height: 4px;\r\n      border-radius: 2px;\r\n      border: 1px solid red;\r\n    }\r\n  }\r\n  .carItem {\r\n    padding: 0 5px;\r\n    display: flex;\r\n    align-items: center;\r\n    padding: 10px 5px;\r\n    .van-checkbox {\r\n      margin: 0 5px;\r\n    }\r\n    .van-image {\r\n      background: #efefef;\r\n    }\r\n    .proBrief {\r\n      flex: 1;\r\n      display: flex;\r\n      flex-direction: column;\r\n      justify-content: space-around;\r\n      align-items: flex-start;\r\n      .title {\r\n        width: 100%;\r\n        font-size: 14px;\r\n        display: flex;\r\n        justify-content: space-between;\r\n      }\r\n      .brief {\r\n        color: #999;\r\n        font-size: 12px;\r\n      }\r\n    }\r\n  }\r\n  .van-submit-bar{\r\n      bottom:51px;\r\n  }\r\n}\r\n</style>"],"sourceRoot":"src/views"}]}