{"remainingRequest":"C:\\Users\\11210\\Desktop\\projects\\商城\\mall\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\11210\\Desktop\\projects\\商城\\mall\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\11210\\Desktop\\projects\\商城\\mall\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\11210\\Desktop\\projects\\商城\\mall\\src\\views\\category.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\11210\\Desktop\\projects\\商城\\mall\\src\\views\\category.vue","mtime":1613548029888},{"path":"C:\\Users\\11210\\Desktop\\projects\\商城\\mall\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\11210\\Desktop\\projects\\商城\\mall\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\11210\\Desktop\\projects\\商城\\mall\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\11210\\Desktop\\projects\\商城\\mall\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6XFxVc2Vyc1xcMTEyMTBcXERlc2t0b3BcXHByb2plY3RzXFxcdTU1NDZcdTU3Q0VcXG1hbGxcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgdGFiQnV0dG9uIGZyb20gIi4uL2NvbXBvbmVudHMvdGFiQnV0dG9uLnZ1ZSI7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBhcGkgZnJvbSAiLi4vYXNzZXRzL2NvbmZpZy9hcGkuanMiOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNlYXJjaERhdGE6ICIiLAogICAgICBhY3RpdmVJbmRleDogMCwKICAgICAgc3ViQ2F0ZWdvcnlMaXN0OiBbXSwKICAgICAgLy8gICBpdGVtczogW3sgdGV4dDogJ+WIhue7hCAxJyB9LCB7IHRleHQ6ICfliIbnu4QgMicgfV0sCiAgICAgIGRhdGE6IHt9LAogICAgICBiYW5uZXJJbWc6ICIiCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gKCkgewogICAgdmFyIF9jcmVhdGVkID0gX2FzeW5jVG9HZW5lcmF0b3IoCiAgICAvKiNfX1BVUkVfXyovCiAgICByZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICB2YXIgcmVzOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLmdldChhcGkuQ2F0YWxvZ0xpc3QpOwoKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgdGhpcy5kYXRhID0gcmVzLmRhdGEuZGF0YTsgLy8gY29uc29sZS5sb2cocmVzKTsKCiAgICAgICAgICAgICAgdGhpcy5zdWJDYXRlZ29yeUxpc3QgPSB0aGlzLmRhdGEuY3VycmVudENhdGVnb3J5LnN1YkNhdGVnb3J5TGlzdDsKICAgICAgICAgICAgICB0aGlzLmJhbm5lckltZyA9IHRoaXMuZGF0YS5jdXJyZW50Q2F0ZWdvcnkuaW1nX3VybDsKCiAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSwgdGhpcyk7CiAgICB9KSk7CgogICAgZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgICAgcmV0dXJuIF9jcmVhdGVkLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICB9CgogICAgcmV0dXJuIGNyZWF0ZWQ7CiAgfSgpLAogIGNvbXB1dGVkOiB7CiAgICBpdGVtczogZnVuY3Rpb24gaXRlbXMoKSB7CiAgICAgIGlmICh0aGlzLmRhdGEuY2F0ZWdvcnlMaXN0ID09IHVuZGVmaW5lZCkgewogICAgICAgIHJldHVybiBbXTsKICAgICAgfSBlbHNlIHsKICAgICAgICB2YXIgYXJyID0gW107CiAgICAgICAgdGhpcy5kYXRhLmNhdGVnb3J5TGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtLCBpbmRleCkgewogICAgICAgICAgaXRlbS50ZXh0ID0gaXRlbS5uYW1lOwogICAgICAgICAgYXJyLnB1c2goaXRlbSk7CiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIGFycjsKICAgICAgfQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgY2hhbmdlUmlnaHQ6IGZ1bmN0aW9uIGNoYW5nZVJpZ2h0KGluZGV4KSB7CiAgICAgIHRoaXMuYWN0aXZlSW5kZXggPSBpbmRleDsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICBhY3RpdmVJbmRleDogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2FjdGl2ZUluZGV4ID0gX2FzeW5jVG9HZW5lcmF0b3IoCiAgICAgIC8qI19fUFVSRV9fKi8KICAgICAgcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIGlkLCByZXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmICghKHRoaXMuaXRlbXMubGVuZ3RoICE9PSAwKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDk7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlkID0gdGhpcy5pdGVtc1t0aGlzLmFjdGl2ZUluZGV4XS5pZDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5nZXQoYXBpLkNhdGFsb2dDdXJyZW50LCB7CiAgICAgICAgICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICAgICAgICAgIGlkOiBpZAogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgICB0aGlzLnN1YkNhdGVnb3J5TGlzdCA9IHJlcy5kYXRhLmRhdGEuY3VycmVudENhdGVnb3J5LnN1YkNhdGVnb3J5TGlzdDsKICAgICAgICAgICAgICAgIHRoaXMuYmFubmVySW1nID0gdGhpcy5pdGVtc1t0aGlzLmFjdGl2ZUluZGV4XS5pbWdfdXJsOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMDsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgICB0aGlzLnN1YkNhdGVnb3J5TGlzdCA9IFtdOwoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyLCB0aGlzKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gYWN0aXZlSW5kZXgoKSB7CiAgICAgICAgcmV0dXJuIF9hY3RpdmVJbmRleC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gYWN0aXZlSW5kZXg7CiAgICB9KCkKICB9LAogIGNvbXBvbmVudHM6IHsKICAgIHRhYkJ1dHRvbjogdGFiQnV0dG9uCiAgfQp9Ow=="},{"version":3,"sources":["category.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmCA,OAAA,SAAA,MAAA,6BAAA;AACA,OAAA,KAAA,MAAA,OAAA;AACA,OAAA,GAAA,MAAA,yBAAA;AACA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,UAAA,EAAA,EADA;AAEA,MAAA,WAAA,EAAA,CAFA;AAGA,MAAA,eAAA,EAAA,EAHA;AAIA;AACA,MAAA,IAAA,EAAA,EALA;AAMA,MAAA,SAAA,EAAA;AANA,KAAA;AAQA,GAVA;AAWA,EAAA,OAXA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAYA,KAAA,CAAA,GAAA,CAAA,GAAA,CAAA,WAAA,CAZA;;AAAA;AAYA,cAAA,GAZA;AAaA,mBAAA,IAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA,CAbA,CAcA;;AACA,mBAAA,eAAA,GAAA,KAAA,IAAA,CAAA,eAAA,CAAA,eAAA;AACA,mBAAA,SAAA,GAAA,KAAA,IAAA,CAAA,eAAA,CAAA,OAAA;;AAhBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAkBA,EAAA,QAAA,EAAA;AACA,IAAA,KAAA,EAAA,iBAAA;AACA,UAAA,KAAA,IAAA,CAAA,YAAA,IAAA,SAAA,EAAA;AACA,eAAA,EAAA;AACA,OAFA,MAEA;AACA,YAAA,GAAA,GAAA,EAAA;AACA,aAAA,IAAA,CAAA,YAAA,CAAA,OAAA,CAAA,UAAA,IAAA,EAAA,KAAA,EAAA;AACA,UAAA,IAAA,CAAA,IAAA,GAAA,IAAA,CAAA,IAAA;AACA,UAAA,GAAA,CAAA,IAAA,CAAA,IAAA;AACA,SAHA;AAIA,eAAA,GAAA;AACA;AACA;AAZA,GAlBA;AAgCA,EAAA,OAAA,EAAA;AACA,IAAA,WAAA,EAAA,qBAAA,KAAA,EAAA;AACA,WAAA,WAAA,GAAA,KAAA;AACA;AAHA,GAhCA;AAqCA,EAAA,KAAA,EAAA;AACA,IAAA,WAAA;AAAA;AAAA;AAAA,8BAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACA,KAAA,KAAA,CAAA,MAAA,KAAA,CADA;AAAA;AAAA;AAAA;;AAEA,gBAAA,EAFA,GAEA,KAAA,KAAA,CAAA,KAAA,WAAA,EAAA,EAFA;AAAA;AAAA,uBAGA,KAAA,CAAA,GAAA,CAAA,GAAA,CAAA,cAAA,EAAA;AAAA,kBAAA,MAAA,EAAA;AAAA,oBAAA,EAAA,EAAA;AAAA;AAAA,iBAAA,CAHA;;AAAA;AAGA,gBAAA,GAHA;AAIA,qBAAA,eAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA,CAAA,eAAA,CAAA,eAAA;AACA,qBAAA,SAAA,GAAA,KAAA,KAAA,CAAA,KAAA,WAAA,EAAA,OAAA;AALA;AAAA;;AAAA;AAOA,qBAAA,eAAA,GAAA,EAAA;;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AADA,GArCA;AAiDA,EAAA,UAAA,EAAA;AACA,IAAA,SAAA,EAAA;AADA;AAjDA,CAAA","sourcesContent":["<template>\r\n  <div id=\"category\">\r\n    <van-search\r\n      input-align=\"center\"\r\n      placeholder=\"请输入搜索关键词\"\r\n      :v-model=\"searchData\"\r\n    />\r\n\r\n    <van-tree-select\r\n      height=\"100vh - 104ph\"\r\n      :items=\"items\"\r\n      :main-active-index.sync=\"activeIndex\"\r\n      @click-nav=\"changeRight\"\r\n    >\r\n      <template #content>\r\n        <div class=\"bannerImg\">\r\n            <img width=\"100%\" :src=\"bannerImg\" alt=\"\">\r\n        </div>\r\n        <van-grid :column-num=\"3\">\r\n          <van-grid-item\r\n            v-for=\"(item, index) in subCategoryList\"\r\n            :key=\"index\"\r\n            :icon=\"item.wap_banner_url\"\r\n            :text=\"item.name\"\r\n            :to=\"'/categoryList/' + item.id\"\r\n          />\r\n        </van-grid>\r\n      </template>\r\n    </van-tree-select>\r\n\r\n    <tab-button></tab-button>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport tabButton from \"../components/tabButton.vue\";\r\nimport axios from \"axios\";\r\nimport api from \"../assets/config/api.js\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      searchData: \"\",\r\n      activeIndex: 0,\r\n      subCategoryList: [],\r\n      //   items: [{ text: '分组 1' }, { text: '分组 2' }],\r\n      data: {},\r\n      bannerImg: \"\"\r\n    };\r\n  },\r\n  async created() {\r\n    let res = await axios.get(api.CatalogList);\r\n    this.data = res.data.data;\r\n    // console.log(res);\r\n    this.subCategoryList = this.data.currentCategory.subCategoryList;\r\n    this.bannerImg = this.data.currentCategory.img_url\r\n  },\r\n  computed: {\r\n    items: function () {\r\n      if (this.data.categoryList == undefined) {\r\n        return [];\r\n      } else {\r\n        let arr = [];\r\n        this.data.categoryList.forEach((item, index) => {\r\n          item.text = item.name;\r\n          arr.push(item);\r\n        });\r\n        return arr;\r\n      }\r\n    },\r\n  },\r\n  methods: {\r\n    changeRight: function (index) {\r\n      this.activeIndex = index;\r\n    },\r\n  },\r\n  watch: {\r\n    activeIndex: async function () {\r\n      if (this.items.length !== 0) {\r\n        let id = this.items[this.activeIndex].id;\r\n        let res = await axios.get(api.CatalogCurrent, { params: { id } });\r\n        this.subCategoryList = res.data.data.currentCategory.subCategoryList;\r\n        this.bannerImg = this.items[this.activeIndex].img_url\r\n      } else {\r\n        this.subCategoryList = [];\r\n      }\r\n    },\r\n  },\r\n  components: {\r\n    tabButton,\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n    #category{\r\n        .bannerImg{\r\n            width: 100%;\r\n            box-sizing: border-box;\r\n            padding: 0px 5px 0px 0px;\r\n        }\r\n    }\r\n</style>"],"sourceRoot":"src/views"}]}